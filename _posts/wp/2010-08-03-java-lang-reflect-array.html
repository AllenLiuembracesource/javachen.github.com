---
layout: post
title: java.lang.reflect.Array
categories:
- Java Core
tags:
- Array
- reflect
published: true
comments: true
---
<p>java.lang.Array 类提供了动态创建和访问数组元素的各种静态方法。Array 允许在执行 get 或 set 操作期间进行扩展转换，但如果发生收缩转换，则抛出 IllegalArgumentException。<br />
Array 为final的，没有实例，只有静态方法。<br />
Array是java反射机制reflection的一种用法， 注意创建数组时的类型是动态的，在编译时并不知道其类型。<br />
注意，其类中的方法都为native的，即一些和操作系统打交道的方法，真正的实现方法和原理据说由C/C++在java虚拟机中实现了。 <!--more-->
使用Array 的一个例子：
<pre lang="java">
        @Test
	public void testArray() throws ClassNotFoundException {
		Class clazz = Class.forName("java.lang.String");</pre></p>

<p>		//创建一个长度为10的字符串数组，在Java中数组也可作Object对象<br />
		Object array = Array.newInstance(clazz, 10);</p>

<p>		// 把字符串数组对象的索引位置为5的元素设置为"hello"<br />
		Array.set(array, 5, "javachen.com");</p>

<p>		// 获得字符串数组对象的索引位置为5的元素的值<br />
		String str = (String) Array.get(array, 5);<br />
		System.out.println(str);// javachen.com<br />
	}</p>

<p>	// 一个体现数组动态生成的方法<br />
	public static Object reflection(Object o, int i) {<br />
		return Array.newInstance(o.getClass().getComponentType(), i);<br />
	}
</p>
