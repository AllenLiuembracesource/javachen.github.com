---
layout: post
title: 获得一个类上的注解
categories:
- Java Core
tags:
- Annotation
published: true
comments: true
---
<p>假定有这样一个注解类，如何获得一个类上标注有这个注解的注解内容，比如说value值？
<pre lang="java">
package com.javachen.annotations;</pre></p>

<p>import java.lang.annotation.Documented;<br />
import java.lang.annotation.Retention;<br />
import java.lang.annotation.RetentionPolicy;<br />
import java.lang.annotation.Target;</p>

<p>@Target( { java.lang.annotation.ElementType.TYPE })<br />
@Retention(RetentionPolicy.RUNTIME)<br />
@Documented<br />
public @interface Alias {<br />
	public abstract String[] value();<br />
}
<!--more-->
咱们可以这样做，通过Class的isAnnotationPresent这个方法可以判断某一个类是否有某一个注解，如果存在，则可以用getAnnotation方法获得该注解，接下来就可以对该注解进行操作，如获得该注解中的属性值。下面的方法，采用了for循环对某一个类从本类到父类遍历是否注有某一个注解.
<pre lang="java">
package com.javachen.annotations;</pre></p>

<p>import java.util.HashSet;<br />
import java.util.Set;</p>

<p>public class AliasUtil {<br />
	public static Set< string> getAlias(Class< ?> clazz) {<br />
		assert (clazz != null);<br />
		Set< string> result = new HashSet< string>();</p>

<p>		for (Class< ?> superClass = clazz; superClass != Object.class; superClass = <br />
                      superClass.getSuperclass()) {<br />
			if (superClass.isAnnotationPresent(Alias.class)) {<br />
				Alias alias = superClass.getAnnotation(Alias.class);<br />
				String[] value = alias.value();<br />
				if (value == null)<br />
					break;<br />
				for (String v : value) {<br />
					if (v != null) {<br />
						String s = v.trim();<br />
						if (s.length() == 0)<br />
							continue;<br />
						if (result.contains(s))<br />
							continue;<br />
						result.add(s);<br />
					}<br />
				}<br />
				break;<br />
			}<br />
		}</p>

<p>		return result;<br />
	}<br />
}
</p>
