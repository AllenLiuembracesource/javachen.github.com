---
layout: post
title: Java interface RandomAccess
categories:
- Java Core
tags:
- interface
- Java Core
- RandomAccess
published: true
comments: true
---
<p>最近在读Java jdk的源码和api文档，看到RandomAccess接口，该接口中没有定义任何方法。<br />
在api中这样写到：
<blockquote>List 实现所使用的标记接口，用来表明其支持快速（通常是固定时间）随机访问。此接口的主要目的是允许一般的算法更改其行为，从而在将其应用到随机或连续访问列表时能提供良好的性能。</blockquote></p>

<p>将操作随机访问列表的最佳算法（如 ArrayList）应用到连续访问列表（如 LinkedList）时，可产生二次项的行为。<strong><span style="color: #3366ff;">如果将某个算法应用到连续访问列表，那么在应用可能提供较差性能的算法前，鼓励使用一般的列表算法检查给定列表是否为此接口的一个 instanceof，如果需要保证可接受的性能，还可以更改其行为。</span></strong></p>

<p>现在已经认识到，随机和连续访问之间的区别通常是模糊的。例如，如果列表很大时，某些 List 实现提供渐进的线性访问时间，但实际上是固定的访问时间。这样的 List 实现通常应该实现此接口。实际经验证明，如果是下列情况，则 List  实现应该实现此接口，即对于典型的类实例而言，此循环：</p>

<p>for (int i=0, n=list.size(); i &lt; n; i++)<br />
list.get(i);</p>

<p>的运行速度要快于以下循环：</p>

<p>for (Iterator i=list.iterator(); i.hasNext(); )<br />
i.next();
通过上面的说明，我们应该记住对于ArrayList我们应该使用不带迭代器的for循环，而对LinkedList我们应该使用迭代器循环。当我们不知道list集合的具体类型时候，我们可以通过instanceof来分别处理。</p>
